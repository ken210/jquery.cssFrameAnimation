/*
 * Copyright (C) 2011 Ken Rosaka
 * All rights reserved.
 * 
 * jquery.cssFrameAnimation - A jQuery plugin to emulate a timeline base animation using css classes
 * 
 * Author: Ken Rosaka (ken210.com / @ken_rosaka)
 * Version: 0.3 alpha
 * Created: 2011-04-29
 * Release: 2011-05-09
 * License: http://www.gnu.org/licenses/gpl.html
 * 
 * Updates, examples and usage: http://github.com/ken210/jquery.cssFrameAnimation
 */

(function($){$.fn.cssFrameAnimation=function(options){var defaults={fps:40,animEvent:'hover',complete:undefined};$.extend(defaults,options);return this.each(function(){var element=this,elemClasses=this.className,interval,currentFrame=1,totalFrames=parseInt($(this).data('frames'),10)||1,ascending=true,cssClass='',setClass=function(){var classToSet=elemClasses+' '+defaults.animEvent+currentFrame;$(element).removeClass();$(element).addClass(classToSet);},enterFrame=function(skip){if(ascending&¤tFrame<totalFrames){setClass();currentFrame++;}else if(!ascending&¤tFrame>1){setClass();currentFrame--;}else{stop(skip);}},play=function(skip){interval=setInterval(enterFrame,1000/defaults.fps,skip);},stop=function(skip){clearInterval(interval);setClass(elemClasses);if($.isFunction(defaults.complete)&&skip)
defaults.complete.call(this);},forward=function(event){stop();ascending=true;play(event.data.skip);},backward=function(){stop();ascending=false;play();},init=(function(){if(defaults.animEvent=='hover'){$(element).bind('mouseover',{skip:true},forward);$(element).bind('mouseout',backward);}else{$(element).bind(defaults.animEvent,forward);}})();});};})(jQuery);